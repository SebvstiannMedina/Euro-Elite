{% extends 'base.html' %}
{% load static %}
{% block title %}Nosotros - Euro Elite{% endblock %}
{% block content %}

<!-- Hero con video -->
<section class="hero-section position-relative text-white text-center">
  <video autoplay muted loop playsinline class="hero-video">
    <source src="{% static 'videos/hero.mp4' %}" type="video/mp4">
  </video>
  <div class="overlay"></div>
  <div class="container hero-content">
    <h1 class="display-3 fw-bold mb-3" data-aos="fade-down">Conoce Euro Elite</h1>
    <p class="lead mb-4" data-aos="fade-up">Confianza, calidad y pasión por los autos.</p>
    <div class="d-flex justify-content-center gap-3">
      <a href="{% url 'productos' %}" class="btn btn-primary btn-lg rounded-pill shadow" data-aos="zoom-in">Ver productos</a>
      <a href="{% url 'nosotros' %}" class="btn btn-outline-light btn-lg rounded-pill shadow" data-aos="zoom-in" data-aos-delay="200">Nosotros</a>
    </div>
  </div>
</section>

<!-- Valores -->
<div id="valores" class="container my-5">
  <h2 class="text-center mb-5 fw-bold" data-aos="fade-up">Nuestros valores</h2>
  <div class="row text-center g-4">
    <div class="col-md-3" data-aos="flip-left" data-aos-delay="100">
      <div class="value-card p-4 shadow-sm rounded-4">
        <i class="fas fa-handshake fa-3x mb-3 text-primary"></i>
        <h5>Confianza</h5>
        <p class="text-muted">Relaciones transparentes con nuestros clientes.</p>
      </div>
    </div>
    <div class="col-md-3" data-aos="flip-left" data-aos-delay="200">
      <div class="value-card p-4 shadow-sm rounded-4">
        <i class="fas fa-car fa-3x mb-3 text-primary"></i>
        <h5>Calidad</h5>
        <p class="text-muted">Vehículos de elite, seleccionados cuidadosamente.</p>
      </div>
    </div>
    <div class="col-md-3" data-aos="flip-left" data-aos-delay="300">
      <div class="value-card p-4 shadow-sm rounded-4">
        <i class="fas fa-cogs fa-3x mb-3 text-primary"></i>
        <h5>Innovación</h5>
        <p class="text-muted">Tecnología y procesos modernos en cada servicio.</p>
      </div>
    </div>
    <div class="col-md-3" data-aos="flip-left" data-aos-delay="400">
      <div class="value-card p-4 shadow-sm rounded-4">
        <i class="fas fa-users fa-3x mb-3 text-primary"></i>
        <h5>Compromiso</h5>
        <p class="text-muted">Atención personalizada en cada etapa de tu compra.</p>
      </div>
    </div>
  </div>
</div>

<!-- Historia en timeline -->
<div class="container my-5">
  <h2 class="text-center mb-5 fw-bold" data-aos="fade-up">Nuestra historia</h2>
  <div class="timeline">
    <div class="timeline-item left" data-aos="fade-right">
      <h5>2020</h5>
      <p>Nace Euro Elite con la idea de traer autos de elite a Chile.</p>
    </div>
    <div class="timeline-item right" data-aos="fade-left">
      <h5>2021</h5>
      <p>Inauguramos nuestra primera sucursal.</p>
    </div>
    <div class="timeline-item left" data-aos="fade-right">
      <h5>2023</h5>
      <p>Más de 500 clientes confiaron en nosotros.</p>
    </div>
    <div class="timeline-item right" data-aos="fade-left">
      <h5>2025</h5>
      <p>Consolidamos nuestra plataforma online Euro Elite.</p>
    </div>
  </div>
</div>

<!-- Video destacado -->
<div class="container my-5" data-aos="zoom-in">
  <div class="video-wrapper position-relative">
    <img src="{% static 'img/mecanico.jpg' %}" class="img-fluid rounded-4 shadow" alt="Mecánico en acción">
    <button class="btn btn-light play-btn" data-bs-toggle="modal" data-bs-target="#videoModal">
      <i class="fas fa-play fa-2x text-primary"></i>
    </button>
  </div>
</div>

<!-- Modal video -->
<div class="modal fade" id="videoModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content rounded-4">
      <div class="modal-body p-0">
        <div class="ratio ratio-16x9">
          <iframe id="videoFrame" src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                  title="Video Euro Elite" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Testimonios en carrusel -->
<div class="container my-5">
  <h2 class="text-center mb-5 fw-bold" data-aos="fade-up">Lo que dicen nuestros clientes</h2>
  <div id="carouselTestimonios" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner text-center">
      <div class="carousel-item active">
        <img src="{% static 'img/cliente1.jpg' %}" class="rounded-circle mb-3" width="80" height="80" alt="Cliente">
        <p class="fst-italic">“Excelente atención, el auto llegó impecable y con garantía real.”</p>
        <div class="stars text-warning mb-2">⭐⭐⭐⭐⭐</div>
        <h6>- María</h6>
      </div>
      <div class="carousel-item">
        <img src="{% static 'img/cliente2.jpg' %}" class="rounded-circle mb-3" width="80" height="80" alt="Cliente">
        <p class="fst-italic">“Me ayudaron a encontrar el auto perfecto para mi familia.”</p>
        <div class="stars text-warning mb-2">⭐⭐⭐⭐⭐</div>
        <h6>- Javier</h6>
      </div>
      <div class="carousel-item">
        <img src="{% static 'img/cliente3.jpg' %}" class="rounded-circle mb-3" width="80" height="80" alt="Cliente">
        <p class="fst-italic">“Euro Elite es sinónimo de confianza. Volvería a comprar.”</p>
        <div class="stars text-warning mb-2">⭐⭐⭐⭐⭐</div>
        <h6>- Andrés</h6>
      </div>
    </div>
  </div>
</div>

<!-- CTA final -->
<section class="cta-section text-center text-white py-5">
  <div class="container" data-aos="zoom-in">
    <h2 class="mb-3 fw-bold">¿Listo para tu próximo auto?</h2>
    <a href="{% url 'productos' %}" class="btn btn-light btn-lg rounded-pill shadow pulse-btn">Ver autos disponibles</a>
  </div>
</section>

{% endblock %}

<!-- Extra styles -->
<style>
.hero-video {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;
  z-index: -1;
}
.hero-section .overlay {
  background: rgba(0,0,0,0.5);
  position: absolute; top:0; left:0; width:100%; height:100%;
}
.hero-content { position: relative; z-index: 2; }

.value-card { transition: all 0.3s ease; }
.value-card:hover { transform: translateY(-8px); box-shadow: 0 6px 20px rgba(0,0,0,0.2); }

.timeline { position: relative; margin: 2rem 0; }
.timeline::before {
  content: ""; position: absolute; left: 50%; top: 0; bottom: 0;
  width: 4px; background: #0d6efd;
}
.timeline-item {
  width: 45%; padding: 1rem; background: #f8f9fa; border-radius: 8px;
  position: relative; margin-bottom: 2rem;
}
.timeline-item.left { float: left; clear: both; }
.timeline-item.right { float: right; clear: both; }
.timeline-item h5 { font-weight: bold; color: #0d6efd; }

.video-wrapper { position: relative; display: inline-block; }
.play-btn {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  border-radius: 50%; padding: 20px; background: white;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3); transition: transform 0.3s;
}
.play-btn:hover { transform: translate(-50%, -50%) scale(1.1); }

.cta-section { background: linear-gradient(135deg, #0d6efd, #6610f2); }
.pulse-btn { animation: pulse 2s infinite; }
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(255,255,255,0.7); }
  70% { box-shadow: 0 0 0 20px rgba(255,255,255,0); }
  100% { box-shadow: 0 0 0 0 rgba(255,255,255,0); }
}
</style>

<!-- Script para pausar video al cerrar -->
<script>
document.addEventListener("DOMContentLoaded", function() {
  var videoModal = document.getElementById('videoModal');
  var videoFrame = document.getElementById('videoFrame');
  videoModal.addEventListener('hidden.bs.modal', function () {
    videoFrame.src = videoFrame.src;
  });
});
</script>
