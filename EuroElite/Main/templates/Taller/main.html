{% extends 'base.html' %}
{% load static %}
{% block title %}Inicio - Euro Elite{% endblock %}
{% block content %}

<!-- CAROUSEL -->
<section class="hero-section" id="home">
    <div class="carousel-container">
        <div class="carousel-track" id="carousel-track">
            <div class="carousel-slide">
                <div class="slide-content">
                    <h1 class="slide-title">Euro Elite</h1>
                    <p class="slide-description">Los mejores repuestos europeos para tu automóvil</p>
                    <a href="#offers" class="cta-button">Ver Ofertas</a>
                </div>
            </div>
            <div class="carousel-slide">
                <div class="slide-content">
                    <h1 class="slide-title">Calidad Premium</h1>
                    <p class="slide-description">Repuestos originales BMW, Audi y Mercedes-Benz</p>
                    <a href="{% url 'productos' %}" class="cta-button">Ver Catálogo</a>
                </div>
            </div>
            <div class="carousel-slide">
                <div class="slide-content">
                    <h1 class="slide-title">Servicio Experto</h1>
                    <p class="slide-description">Asesoría profesional para tu vehículo</p>
                    <a href="#services" class="cta-button">Conocer Más</a>
                </div>
            </div>
        </div>
        <div class="carousel-nav">
            <div class="nav-dot active" onclick="goToSlide(0)"></div>
            <div class="nav-dot" onclick="goToSlide(1)"></div>
            <div class="nav-dot" onclick="goToSlide(2)"></div>
        </div>
    </div>
</section>

<!-- CTA BANNER -->
<section class="cta-banner">
    <h2>¡Encuentra los Mejores Repuestos para tu Auto!</h2>
    <p>Calidad europea garantizada</p>
    <a href="{% url 'productos' %}" class="cta-button">Explorar Catálogo</a>
</section>

<!-- OFERTAS DESTACADAS -->
<section class="featured-offers" id="offers">
    <h2 class="section-title">Productos en Oferta</h2>
    <div class="offers-grid">
        {% for p in productos %}
        <div class="offer-card">
            <!-- Imagen -->
            <div class="offer-image">
                {% if p.imagen %}
                <img src="{{ p.imagen.url }}" alt="{{ p.nombre }}">
                {% else %}
                <img src="{% static 'img/no-image.png' %}" alt="Sin imagen">
                {% endif %}
            </div>

            <!-- Contenido -->
            <div class="offer-content">
                <h3 class="offer-title">{{ p.nombre }}</h3>
                <p class="offer-description">{{ p.descripcion|truncatewords:15 }}</p>

                <div class="offer-price">
                    {% if p.promocion %}
                        <span class="current-price">
                            ${{ p.precio_descuento|floatformat:"0" }}
                        </span>
                        <span class="original-price">
                            ${{ p.precio|floatformat:"0" }}
                        </span>
                    {% else %}
                        <span class="current-price">
                            ${{ p.precio|floatformat:"0" }}
                        </span>
                    {% endif %}
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center">No hay productos en oferta actualmente.</p>
        {% endfor %}
    </div>
</section>

{% endblock %}

<!--El const carrito URL es para que la página de carrito cargue la URL correcta-->
<script>
    const carritoURL = "{% url 'carrito_compras' %}";
</script>
<script src="{% static 'js/main.js' %}?v=2"></script>
